# Web開発ツール拡張仕様書

## 概要

本仕様書は、ポートフォリオサイトのToolsセクションに追加する新機能の詳細仕様を定義します。
既存の31個のツールに加えて、35個の新規ツールを追加し、開発者の日常業務を効率化することを目的とします。

## 技術アーキテクチャ

### 基本構成
- **フレームワーク**: Nuxt 3 + TypeScript
- **UIライブラリ**: shadcn-vue (New Yorkスタイル)
- **スタイリング**: Tailwind CSS v4
- **状態管理**: Vue 3 Composition API (ref, computed)
- **ユーティリティ**: VueUse優先

### ディレクトリ構造
```
/pages/tools/
  └── [tool-name].vue      # 各ツールのページコンポーネント
/components/ui/            # shadcn-vueコンポーネント
/composables/useTools.ts   # ツール登録・管理
/types/tool.ts            # 型定義
```

### 共通機能要件
1. **レスポンシブデザイン**: モバイル・タブレット・デスクトップ対応
2. **ダークモード対応**: カラーモード切り替え機能
3. **アクセシビリティ**: WCAG 2.1 AA準拠
4. **パフォーマンス**: 初期表示3秒以内、操作レスポンス100ms以内
5. **エラーハンドリング**: ユーザーフレンドリーなエラー表示

## カテゴリ別仕様

### 🎨 デザイン・UI カテゴリ

#### 1. アニメーション生成ツール
**概要**: CSS/SVGアニメーションをビジュアルに作成

**機能要件**:
- アニメーションタイプ選択（fade, slide, rotate, scale, bounce等）
- タイムライン編集（duration, delay, easing）
- キーフレーム編集
- リアルタイムプレビュー
- CSS/SVGコード生成
- アニメーションライブラリ（プリセット）

**技術仕様**:
- CSS Animation API使用
- requestAnimationFrame for smooth previews
- Web Animations API対応

**UI/UX**:
- タイムラインエディター（スライダー操作）
- プレビューエリア（再生/停止/リピート）
- コードエクスポート（CSS/JS）

---

#### 2. カラーコントラストチェッカー
**概要**: WCAG準拠のアクセシビリティチェック

**機能要件**:
- 前景色・背景色の選択
- コントラスト比の計算・表示
- WCAG 2.1 AA/AAA判定
- 推奨色の提案
- テキストサイズ別判定（通常/大きい）
- カラーブラインドシミュレーション

**技術仕様**:
```typescript
interface ContrastResult {
  ratio: number
  wcagAA: boolean
  wcagAAA: boolean
  wcagAALarge: boolean
  wcagAAALarge: boolean
}
```

**UI/UX**:
- カラーピッカー（HEX/RGB/HSL対応）
- リアルタイムプレビュー
- 合格/不合格の視覚的表示

---

#### 3. フォントペアリング提案
**概要**: 相性の良いフォントの組み合わせ提案

**機能要件**:
- フォントカテゴリ選択（Serif, Sans-serif, Display等）
- 用途別提案（見出し＋本文、ロゴ＋UI等）
- Google Fonts統合
- プレビュー機能
- CSS出力

**技術仕様**:
- Google Fonts API連携
- フォントペアリングアルゴリズム実装
- ローカルストレージでお気に入り保存

**UI/UX**:
- フォント検索・フィルター
- ペアリングプレビュー（実際のテキストで確認）
- ワンクリックCSS生成

---

#### 4. CSSスプライト生成
**概要**: アイコンセットからCSSスプライト自動生成

**機能要件**:
- 複数画像のアップロード（ドラッグ&ドロップ）
- 自動配置アルゴリズム（最適化）
- スプライトシート生成
- CSSクラス自動生成
- 圧縮オプション

**技術仕様**:
- Canvas APIでスプライトシート生成
- 画像最適化アルゴリズム
- WebP/PNG出力対応

**UI/UX**:
- ドラッグ&ドロップエリア
- プレビューグリッド
- 設定パネル（余白、配置方法）

---

#### 5. ブラー効果生成
**概要**: backdrop-filterやfilterの視覚的調整

**機能要件**:
- ブラー強度調整（0-50px）
- 各種フィルター組み合わせ（brightness, contrast, saturate等）
- backdrop-filter対応
- リアルタイムプレビュー
- ブラウザ互換性表示

**技術仕様**:
- CSS Filter Effects
- backdrop-filter polyfill対応
- GPU最適化考慮

**UI/UX**:
- スライダーコントロール
- 背景画像アップロード
- サンプル画像提供

---

### 🖼️ 画像・メディア カテゴリ

#### 6. SVG最適化ツール
**概要**: SVGOベースのSVGファイル軽量化

**機能要件**:
- SVGファイルアップロード/ペースト
- 最適化オプション選択
- ビフォーアフター比較
- ファイルサイズ削減率表示
- バッチ処理対応

**技術仕様**:
- SVGO WebAssembly版使用
- 最適化設定のプリセット
- 圧縮率計算

**UI/UX**:
- ドラッグ&ドロップ
- 設定プリセット（Safe, Aggressive, Custom）
- 視覚的差分表示

---

#### 7. 画像のAI背景除去
**概要**: クライアントサイドでの背景透過処理

**機能要件**:
- 画像アップロード
- 自動背景検出・除去
- 手動調整機能（ブラシツール）
- エッジ調整（フェザリング）
- PNG/WebP出力

**技術仕様**:
- TensorFlow.js使用（U-Net model）
- WebGL acceleration
- Canvas APIで編集機能

**UI/UX**:
- アップロードエリア
- プレビュー（元画像/処理後切り替え）
- 微調整ツールバー

---

#### 8. WebP/AVIF変換
**概要**: 次世代画像フォーマットへの一括変換

**機能要件**:
- 複数画像の一括アップロード
- 品質設定（0-100）
- サイズ比較表示
- フォーマット選択（WebP/AVIF）
- ZIP一括ダウンロード

**技術仕様**:
- WebAssembly codecs使用
- 並列処理対応（Web Workers）
- メモリ効率考慮

**UI/UX**:
- バッチアップロード
- 進捗表示
- 品質プレビュー

---

#### 9. 画像のブラー生成
**概要**: プレースホルダー用のブラー画像生成

**機能要件**:
- ブラー強度調整
- 画像サイズ縮小オプション
- Base64/Data URL出力
- BlurHash生成
- 各種フォーマット対応

**技術仕様**:
- Canvas API blur処理
- BlurHashアルゴリズム実装
- 最適なプレースホルダーサイズ計算

**UI/UX**:
- リアルタイムプレビュー
- 出力形式選択
- コード出力（img tag, CSS background）

---

#### 10. アスキーアート変換
**概要**: 画像をテキストアートに変換

**機能要件**:
- 画像アップロード
- 文字密度調整
- 使用文字セット選択
- カラー/モノクロ選択
- フォントサイズ調整

**技術仕様**:
- Canvas APIで画像解析
- 輝度ベース文字マッピング
- HTMLプレレンダリング

**UI/UX**:
- プレビューエリア（拡大縮小可能）
- 設定パネル
- テキストコピー機能

---

### 📝 テキスト・文書 カテゴリ

#### 11. Markdownテーブル生成
**概要**: GUIでMarkdownテーブルを作成

**機能要件**:
- 行列数の動的調整
- セル内容編集
- 列アライメント設定
- CSVインポート/エクスポート
- テーブルプレビュー

**技術仕様**:
```typescript
interface MarkdownTable {
  headers: string[]
  rows: string[][]
  alignment: ('left' | 'center' | 'right')[]
}
```

**UI/UX**:
- スプレッドシート風エディタ
- ドラッグで列幅調整
- 右クリックメニュー

---

#### 12. 文章校正ツール
**概要**: 日本語の誤字脱字・表記ゆれチェック

**機能要件**:
- テキスト入力/ペースト
- 誤字脱字検出
- 表記ゆれ検出
- 文体統一チェック
- 修正提案

**技術仕様**:
- textlint WebAssembly版
- カスタムルール設定
- 辞書データローカル保存

**UI/UX**:
- エラーハイライト表示
- サイドバーで修正提案
- 一括修正機能

---

#### 13. テキスト暗号化
**概要**: AES暗号化・復号化ツール

**機能要件**:
- テキスト/ファイル暗号化
- パスワード設定
- 暗号化方式選択（AES-256等）
- Base64エンコード出力
- 復号化機能

**技術仕様**:
- Web Crypto API使用
- PBKDF2でキー導出
- IV自動生成

**UI/UX**:
- 暗号化/復号化タブ切り替え
- パスワード強度表示
- セキュリティ警告表示

---

#### 14. テキスト置換ツール
**概要**: 一括置換・正規表現対応

**機能要件**:
- 複数パターン同時置換
- 正規表現サポート
- 大文字小文字オプション
- 置換履歴
- プレビュー機能

**技術仕様**:
- 正規表現エンジン最適化
- 大容量テキスト対応（streaming）
- 置換パターン保存

**UI/UX**:
- 置換ルール一覧
- リアルタイムプレビュー
- 元に戻す機能

---

#### 15. 文字コード変換
**概要**: 各種エンコーディング間の変換

**機能要件**:
- エンコーディング自動検出
- 主要文字コード対応（UTF-8, Shift-JIS, EUC-JP等）
- 文字化け修復機能
- バイナリ表示
- 一括変換

**技術仕様**:
- TextDecoder/TextEncoder API
- 文字コード判定アルゴリズム
- iconv-lite相当機能

**UI/UX**:
- 入力/出力エンコーディング選択
- 文字化けプレビュー
- 推奨エンコーディング表示

---

### 🔄 変換・コンバーター カテゴリ

#### 16. YAML ↔ JSON変換
**概要**: YAMLとJSONの相互変換

**機能要件**:
- YAML → JSON変換
- JSON → YAML変換
- インデント設定
- コメント保持オプション
- バリデーション機能

**技術仕様**:
- js-yaml使用
- スキーマ検証対応
- エラー位置表示

**UI/UX**:
- 2ペインエディタ
- シンタックスハイライト
- エラー行ハイライト

---

#### 17. SQL → NoSQL変換
**概要**: SQLクエリをMongoDBクエリに変換

**機能要件**:
- SELECT文変換
- WHERE句変換
- JOIN処理の提案
- 集計関数変換
- インデックス提案

**技術仕様**:
```typescript
interface QueryConverter {
  sql: string
  mongodb: object
  explanation: string[]
}
```

**UI/UX**:
- SQLエディタ
- MongoDB出力表示
- 変換説明表示

---

#### 18. エポック時間計算機
**概要**: 日時間の差分計算・タイムゾーン変換

**機能要件**:
- エポック時間 ↔ 日時変換
- タイムゾーン変換
- 期間計算
- 相対時間表示
- カレンダー表示

**技術仕様**:
- Temporal API (polyfill)
- タイムゾーンデータベース
- 高精度計算

**UI/UX**:
- 日時ピッカー
- タイムゾーン選択
- 計算結果の多形式表示

---

#### 19. カラーコード変換
**概要**: HEX/RGB/HSL/HSV間の相互変換

**機能要件**:
- 全形式対応（HEX, RGB, HSL, HSV, CMYK）
- アルファチャンネル対応
- カラーピッカー
- 近似色名表示
- CSS変数生成

**技術仕様**:
- 色空間変換アルゴリズム
- パントーン近似色計算
- ブラウザネイティブカラーピッカー

**UI/UX**:
- 統合カラーピッカー
- リアルタイム変換表示
- コピーボタン各形式

---

#### 20. 単位変換ツール
**概要**: px/rem/em/vw等のCSS単位変換

**機能要件**:
- CSS単位相互変換
- 基準値設定（root font-size等）
- ビューポート基準計算
- 一括変換
- 変換表出力

**技術仕様**:
- 動的計算エンジン
- ブラウザ設定検出
- レスポンシブ対応計算

**UI/UX**:
- 単位選択ドロップダウン
- 基準値設定パネル
- 変換テーブル表示

---

### ⚡ 開発・セキュリティ カテゴリ

#### 21. ハッシュ生成ツール
**概要**: MD5/SHA256/SHA512等の生成・検証

**機能要件**:
- 主要ハッシュアルゴリズム対応
- テキスト/ファイル入力
- ハッシュ検証機能
- HMAC生成
- バッチ処理

**技術仕様**:
- Web Crypto API
- ストリーミングハッシュ計算
- 大容量ファイル対応

**UI/UX**:
- アルゴリズム選択
- ドラッグ&ドロップ
- 検証結果表示

---

#### 22. Base64ファイルエンコーダー
**概要**: ファイルをBase64に変換

**機能要件**:
- ファイルアップロード
- チャンク処理（大容量対応）
- Data URL生成
- デコード機能
- MIME type自動検出

**技術仕様**:
- FileReader API
- ストリーミング処理
- メモリ効率最適化

**UI/UX**:
- プログレスバー
- プレビュー機能
- コード出力形式選択

---

#### 23. APIレスポンスモック
**概要**: JSONベースのAPIモックデータ生成

**機能要件**:
- スキーマ定義
- ランダムデータ生成
- RESTful endpoint生成
- レスポンステンプレート
- エクスポート機能

**技術仕様**:
- Faker.js統合
- JSON Schema対応
- OpenAPI互換

**UI/UX**:
- スキーマビルダー
- プレビューペイン
- テンプレートギャラリー

---

#### 24. OpenGraph タグ生成
**概要**: SNS共有用のメタタグ自動生成

**機能要件**:
- 必須タグ自動生成
- プレビュー機能（Twitter/Facebook）
- 画像アップロード・リサイズ
- 構造化データ生成
- バリデーション

**技術仕様**:
- OGP仕様準拠
- Twitter Card対応
- Schema.org統合

**UI/UX**:
- フォーム入力
- リアルタイムプレビュー
- コピー可能な出力

---

#### 25. .gitignore生成
**概要**: 言語・フレームワーク別のテンプレート生成

**機能要件**:
- 言語/フレームワーク選択
- カスタムルール追加
- テンプレート結合
- コメント付き出力
- 更新通知

**技術仕様**:
- GitHub gitignore templates
- ローカルキャッシュ
- マージアルゴリズム

**UI/UX**:
- 検索可能な選択UI
- カスタムルールエディタ
- プレビュー表示

---

### 📊 データ・分析 カテゴリ（新規）

#### 26. JSONPath テスター
**概要**: JSONデータの抽出・フィルタリング

**機能要件**:
- JSONPath式入力
- リアルタイム評価
- 構文ハイライト
- チートシート
- 結果エクスポート

**技術仕様**:
- JSONPath評価エンジン
- 構文検証
- パフォーマンス最適化

**UI/UX**:
- JSONエディタ
- パス入力フィールド
- 結果ハイライト表示

---

#### 27. CSVデータ分析
**概要**: 簡易的なデータ集計・グラフ化

**機能要件**:
- CSV読み込み・パース
- 基本統計量計算
- グラフ生成（棒、線、円）
- フィルター・ソート
- エクスポート機能

**技術仕様**:
- Papa Parse使用
- Chart.js統合
- 大容量データ対応

**UI/UX**:
- テーブルビュー
- グラフ切り替え
- 統計サマリー表示

---

#### 28. ログパーサー
**概要**: アクセスログの解析・可視化

**機能要件**:
- 主要フォーマット対応（Apache, Nginx）
- 統計情報抽出
- エラー分析
- 時系列グラフ
- IPアドレス分析

**技術仕様**:
- 正規表現パーサー
- ストリーミング処理
- 集計エンジン

**UI/UX**:
- ログアップロード
- ダッシュボード表示
- フィルター機能

---

#### 29. データダミー生成
**概要**: テスト用の大量ダミーデータ作成

**機能要件**:
- データ型選択（名前、住所、日付等）
- 件数指定
- フォーマット選択（JSON, CSV, SQL）
- 日本語データ対応
- シード値設定

**技術仕様**:
- Faker.js (日本語ロケール)
- カスタムジェネレータ
- メモリ効率考慮

**UI/UX**:
- スキーマデザイナー
- プレビュー機能
- ダウンロードオプション

---

#### 30. JSON Schema検証
**概要**: スキーマに基づくJSONバリデーション

**機能要件**:
- Schema入力/生成
- JSON検証
- エラー詳細表示
- スキーマ生成（JSONから）
- ドキュメント生成

**技術仕様**:
- Ajv使用
- JSON Schema Draft 7対応
- カスタムバリデータ

**UI/UX**:
- 2ペインエディタ
- エラー位置表示
- スキーマビルダー

---

### 🧮 計算・数学 カテゴリ（新規）

#### 31. 進数変換計算機
**概要**: 2進数/8進数/10進数/16進数の相互変換

**機能要件**:
- 全進数対応
- リアルタイム変換
- ビット演算表示
- 負数対応（2の補数）
- 浮動小数点対応

**技術仕様**:
- BigInt対応
- IEEE 754準拠
- ビット操作可視化

**UI/UX**:
- 入力フィールド（各進数）
- ビット表示
- 計算履歴

---

#### 32. ビット演算ツール
**概要**: AND/OR/XOR/シフト演算の可視化

**機能要件**:
- 基本演算（AND, OR, XOR, NOT）
- シフト演算（左、右、循環）
- ビットマスク生成
- 演算過程可視化
- 16進数/2進数切り替え

**技術仕様**:
- ビット単位操作
- アニメーション表示
- 教育的説明機能

**UI/UX**:
- ビットグリッド表示
- 演算選択パネル
- ステップ実行

---

#### 33. 数式グラフ描画
**概要**: 関数のグラフをcanvasで描画

**機能要件**:
- 数式入力（y = f(x)）
- 複数関数同時描画
- 座標軸設定
- ズーム・パン機能
- 交点計算

**技術仕様**:
- Math.js使用
- Canvas/SVG描画
- 数式パーサー

**UI/UX**:
- 数式エディタ
- グラフキャンバス
- 設定パネル

---

#### 34. 統計計算ツール
**概要**: 平均/分散/標準偏差の計算

**機能要件**:
- データ入力（テキスト/CSV）
- 基本統計量計算
- 度数分布表
- ヒストグラム生成
- 正規分布フィッティング

**技術仕様**:
- 統計計算ライブラリ
- 可視化エンジン
- 大量データ対応

**UI/UX**:
- データ入力エリア
- 結果サマリー
- グラフ表示

---

#### 35. 暗号強度計算
**概要**: パスワードのエントロピー計算

**機能要件**:
- パスワード強度評価
- エントロピー計算
- 解読時間推定
- 改善提案
- パスワードルール検証

**技術仕様**:
- zxcvbn統合
- カスタム辞書対応
- 多言語対応

**UI/UX**:
- パスワード入力
- 強度メーター
- 詳細分析表示

---

## 実装ガイドライン

### 1. 開発手順

#### Step 1: ツール登録
```typescript
// composables/useTools.ts に追加
{
  id: 'tool-id',
  name: 'ツール名',
  description: '説明文',
  category: 'カテゴリ',
  icon: 'heroicons:icon-name',
  route: '/tools/tool-id',
  badge: 'New', // オプション
}
```

#### Step 2: ページコンポーネント作成
```vue
<!-- pages/tools/[tool-id].vue -->
<script setup lang="ts">
definePageMeta({
  layout: 'tools',
})

// ツール固有のロジック

useSeoMeta({
  title: 'ツール名 | Web開発ツール',
  description: 'ツールの説明',
})
</script>

<template>
  <!-- UIレイアウト -->
</template>
```

#### Step 3: カテゴリ更新（必要な場合）
```typescript
// types/tool.ts
export interface Tool {
  category: 'design' | 'image' | 'text' | 'converter' | 'dev' | 'data' | 'math'
}
```

### 2. UI/UXパターン

#### レイアウトパターン
```
- シングルカラム: シンプルなツール
- 2カラム: 入力/出力型ツール  
- 3カラム: 設定/入力/出力型ツール
```

#### 共通コンポーネント使用
- Card: セクション区切り
- Button: アクション
- Input/Textarea: テキスト入力
- Slider: 数値調整
- Alert: 通知・警告
- Badge: ステータス表示

### 3. パフォーマンス最適化

#### 必須対応
1. **遅延読み込み**: 重いライブラリは動的インポート
2. **Web Workers**: CPU集約的な処理は別スレッド
3. **仮想スクロール**: 大量データ表示時
4. **デバウンス**: リアルタイム処理の最適化

#### 推奨対応
```typescript
// 例: 重いライブラリの遅延読み込み
const processImage = async (file: File) => {
  const { optimize } = await import('~/utils/image-optimizer')
  return optimize(file)
}
```

### 4. エラーハンドリング

#### 基本パターン
```typescript
try {
  // 処理
} catch (error) {
  toast({
    title: 'エラー',
    description: error instanceof Error ? error.message : '処理に失敗しました',
    variant: 'destructive',
  })
}
```

#### バリデーション
- 入力値の妥当性チェック
- ファイルサイズ制限
- 形式チェック

### 5. アクセシビリティ

#### 必須要件
- キーボード操作対応
- スクリーンリーダー対応
- 適切なARIAラベル
- フォーカス管理
- エラーメッセージの明確化

### 6. テスト要件

#### 単体テスト
- コア機能のユニットテスト
- エッジケースの検証

#### E2Eテスト
- 主要な使用フローの検証
- エラー処理の確認

## リリース計画

### フェーズ1（優先度：高）
1. ハッシュ生成ツール
2. YAML ↔ JSON変換
3. WebP/AVIF変換
4. カラーコントラストチェッカー
5. Markdownテーブル生成

### フェーズ2（優先度：中）
6. SVG最適化ツール
7. テキスト暗号化
8. エポック時間計算機
9. JSONPath テスター
10. 進数変換計算機

### フェーズ3（優先度：低）
残りのツールを順次実装

## メンテナンス指針

### 定期更新
- 依存関係の更新（月次）
- セキュリティパッチ適用
- パフォーマンス監視
- ユーザーフィードバック対応

### ドキュメント管理
- 各ツールの使用方法
- 技術仕様書の更新
- 変更履歴の記録

---

本仕様書は開発の進行に応じて適宜更新されます。
最終更新日: 2025-06-02